<!doctype html>
<html lang="en">
<html lang="en" xmlns:th="http://www.thymeLeaf.org">

<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<!-- Bootstrap CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.5/dist/umd/popper.min.js"
		integrity="sha384-Xe+8cL9oJa6tN/veChSP7q+mnSPaj5Bcu9mPX5F5xIGE0DVittaqT5lorf0EI7Vk"
		crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js"
		integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK"
		crossorigin="anonymous"></script>
	<title>Add Product - Admin</title>
</head>
<style>
</style>

<body>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
		crossorigin="anonymous"></script>
	<div class="container">
		<header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
			<a th:href="@{/}" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
				<img th:src="@{/images/bootstrap-brands.svg}" src="../static/images/bootstrap-brands.svg" alt=""
					width="auto" height="32" </a>
				<span class="fs-4">Swadeshi Store</span>
			</a>

			<ul class="nav nav-pills">
				<li class="nav-item"><a class="nav-link" th:href="@{/admin}" href="#" aria-current="page">Home</a></li>
				<li class="nav-item"><a class="nav-link" th:href="@{/shop}" href="#" aria-current="page">Shop</a></li>
				<li class="nav-item"><a class="nav-link" th:href="@{/admin/categories}" href="#" aria-current="page">Categories</a></li>
				<li class="nav-item"><a class="nav-link" th:href="@{/admin/products}" href="#" aria-current="page">Products</a></li>
				<li class="nav-item"><a class="nav-link" th:href="@{/logout}" href="#">Login</a></li>
				<li class="nav-item"><a class="nav-link" th:href="@{/logout}" href="#">Register</a></li>
				<li class="nav-item"><a class="nav-link" th:href="@{/logout}" href="#">Logout</a></li>
			</ul>
		</header>
	</div>

	<div class="container">
		<h1>Add a new Product</h1>
		<form th:action="@{/saveProduct}" method="post" th:object="${productDTO}" enctype="multipart/form-data">
			<div class="row">
				<div class="col-sm-5">
					<input type="hidden" name="id" th:field="*{id}">
					<!-- Text input-->
					<div class="form-group">
						<label for="product_name">Name</label>
						<input type="text" class="form-control" required th:field="*{name}" id="product_name" name="product_name">
					</div>
					<br>
					<!-- Category Dropdown-->

					<div class="form-group">
						<label for="category">Select Category</label>
						<select class="form-control" th:field="*{categoryId}" id="category" name="category">
							<option th:each="category :${categories}" 
									th:value="${category.id}"
									th:text="${category.name}">
						</select>

					</div>
					<br>
					<!-- Text input-->
					<div class="form-group">
						<label for="price">Price</label>
						<input type="text" class="form-control" required th:field="*{price}" id="price" name="price">
					</div>

					<!-- Textarea -->
					<div class="form-group">
						<label for="description">Descripion</label>
						<textarea class="form-control" th:field="*{description}" id="description" rows="3"></textarea>
					</div>
					<br>
					<div class="mb-5">
						<label for="productImage" class="form-label">Upload Image</label>
						<input class="form-control" type="file" id="formFile" name="productImage" accept="image/jpeg"
							onchange="preview()">
					</div>
					<img id="frame" height="100px" width="100px" src="#" class="img-fluid"
						th:src="@{${'/product_images/'}}">
					<!-- Text input-->
					<!--					<div class="custom-file">
						<label class="custom-file-input" for="productImage">Select Product Image</label>
						<input type="file" class="custom-file-input" name="productImage" accept="image/jpeg">
					</div>
					<br>-->
					<!-- Button -->
					<!--					<div class="form-group">
						<img src="" id="imgPreview" height="100px" width="100px" th:src="@{${'/product_images/'}}">
					</div>-->
					<!--<div class="image-area mt-4"><img id="imageResult" src="#" alt=""
					<td><img src="#" id="imgPreview" height="100px" width="100px" th:src="@{${'/product_images/'+product.imageName}}">
							class="img-fluid rounded shadow-sm mx-auto d-block"></div>-->

					<div class="col-md-4">
						<input type="hidden" name="imgName" th:value="${productDTO.imageName}">
						<button type="submit" class="btn btn-primary">Add Product</button>
					</div>
				</div>
			</div>
	</div>
	</form>
	</div>

	<script>
		function preview() {
			frame.src = URL.createObjectURL(event.target.files[0]);
		}
	</script>
	<!-- JavaScript Bundle with Popper -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa"
		crossorigin="anonymous"></script>

	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.min.js"
		integrity="sha384-ODmDIVzN+pFdexxHEHFBQH3/9/vQ9uori45z4JjnFsRydbmQbmL5t1tQ0culUzyK"
		crossorigin="anonymous"></script>

</body>

</html>